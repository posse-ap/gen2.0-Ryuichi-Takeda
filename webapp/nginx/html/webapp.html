<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="webapp" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="reset.css" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


  <!-- <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> -->
</head>

<body>

  <!-- /.header ここから -->
  <header>
    <div class="header_inner">
        <img src="posseLogo.png" alt="POSSE" class="posseLogo" />
        <div class="week_number">nthweek</div>

        <nav class="header_text_container">
            <div class="report_and_posting modal-open">
                <a href="#modal">
                    <div class="report_and_posting_text">記録・投稿</div>
                </a>
            </div>
        </nav>
    </div>
</header>
  <!-- /.header ここまで -->

  <!-- /.graph ここから -->
  <div class="graphs">
    <div class="graphs_left">
        <div class="study_hour">
            <div class="study_hour_card">
                today
                <p>0</p>
                <!-- 6 -->
                <p>hour</p>
            </div>
            <div class="study_hour_card">
                month
                <p>0</p>
                <!-- 12 -->
                <p>hour</p>
            </div>
            <div class="study_hour_card">
                total
                <p>0</p>
                <p>hour</p>
            </div>
        </div>

        <div class="study_hour_graph">
            <div class="study_hour_graph_card">
                <canvas id="bar_chart_cv" class="bar_chart"></canvas>
            </div>
        </div>
    </div>
    <div class="graphs_right">
        <div class="πchart">
            <div id="main" class="main"></div>
            <div class="πchart_card">
                <div class="πchart_card_title">学習言語</div>
                <canvas id="doughnut_chart1_cv" class="doughnut_chart"></canvas>
            </div>
            <script>
                var dataLabelPlugin = {
                    afterDatasetsDraw: function(chart, easing) {
                        //To only draw at the end of animation, check for easing === 1
                        var ctx = chart.ctx;
                        chart.data.datasets.forEach(function(dataset, i) {
                            var dataSum = 0;
                            dataset.data.forEach(function(element) {
                                dataSum += element;
                            });
                            var meta = chart.getDatasetMeta(i);
                            if (!meta.hidden) {
                                meta.data.forEach(function(element, index) {
                                    // Draw the text in black, with the specified font
                                    ctx.fillStyle = 'rgb(255, 255, 255)';
                                    var fontSize = 12;
                                    var fontStyle = 'normal';
                                    var fontFamily = 'Helvetica Neue';
                                    ctx.font = Chart.helpers.fontString(fontSize, fontStyle, fontFamily);
                                    // Just naively convert to string for now
                                    var labelString = chart.data.labels[index];
                                    var dataString = (Math.round(dataset.data[index] / dataSum * 1000) / 10).toString() + "%";
                                    // Make sure alignment settings are correct
                                    ctx.textAlign = 'center';
                                    ctx.textBaseline = 'middle';
                                    var padding = 5;
                                    var position = element.tooltipPosition();
                                    ctx.fillText(labelString, position.x, position.y - (fontSize / 2) - padding);
                                    ctx.fillText(dataString, position.x, position.y + (fontSize / 2) - padding);
                                });
                            }
                        });
                    }
                };
                // Chart
                var myChart = "doughnut_chart1_cv";
                var chart = new Chart(myChart, {
                    type: 'doughnut',
                    data: {
                        labels: ["", "", "", "", "", "", "", ""],
                        datasets: [{
                            label: "Sample",
                            backgroundColor: [
                                'rgb(0,66,229)',
                                'rgb(0,112,185)',
                                'rgb(0,189,219)',
                                'rgb(8,205,250)',
                                'rgb(203,173,240)',
                                'rgb(108,67,229)',
                                'rgb(70,9,232)',
                                'rgb(45,0,186)',
                            ],
                            // data:[
    
                            data: [
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
                            ],
                        }]
                    },
                    options: {
                        //  title: {
                        //      display: false,
                        //      text: "Sample"
                        //  },
                        legend: {
                            display: false
                        },
                        maintainAspectRatio: false,
                    },
                    plugins: [dataLabelPlugin],
                });
            </script>
    
            <div class="πchart_card">
                <div class="πchart_card_title">学習コンテンツ</div>
                <canvas id="doughnut_chart_cv" class="doughnut_chart"></canvas>
            </div>
    
        </div>
    </div>
    </div>
    <script>
        var dataLabelPlugin = {
            afterDatasetsDraw: function(chart, easing) {
                //To only draw at the end of animation, check for easing === 1
                var ctx = chart.ctx;
                chart.data.datasets.forEach(function(dataset, i) {
                    var dataSum = 0;
                    dataset.data.forEach(function(element) {
                        dataSum += element;
                    });
                    var meta = chart.getDatasetMeta(i);
                    if (!meta.hidden) {
                        meta.data.forEach(function(element, index) {
                            // Draw the text in black, with the specified font
                            ctx.fillStyle = "rgb(255, 255, 255)";
                            var fontSize = 12;
                            var fontStyle = "normal";
                            var fontFamily = "Helvetica Neue";
                            ctx.font = Chart.helpers.fontString(fontSize, fontStyle, fontFamily);
                            // Just naively convert to string for now
                            var labelString = chart.data.labels[index];
                            var dataString =
                                (
                                    Math.round((dataset.data[index] / dataSum) * 1000) / 10
                                ).toString() + "%";
                            // Make sure alignment settings are correct
                            ctx.textAlign = "center";
                            ctx.textBaseline = "middle";
                            var padding = 5;
                            var position = element.tooltipPosition();
                            ctx.fillText(
                                labelString,
                                position.x,
                                position.y - fontSize / 2 - padding
                            );
                            ctx.fillText(
                                dataString,
                                position.x,
                                position.y + fontSize / 2 - padding
                            );
                        });
                    }
                });
            },
        };
        // Chart
        var myChart = "doughnut_chart_cv";
        var chart = new Chart(myChart, {
            type: "doughnut",
            data: {
                labels: ["", "", "",""],
                datasets: [{
                    label: "Sample",
                    backgroundColor: ["rgb(0,66,229)", "rgb(0,112,185)", "rgb(0,189,219)",'rgb(8,205,250)',],
                    data: [
                    
                    ],
                }, ],
            },
            options: {
                //  title: {
                //      display: false,
                //      text: "Sample"
                //  },
                legend: {
                    display: false,
                },
                maintainAspectRatio: false,
            },
            plugins: [dataLabelPlugin],
        });
    </script>

  <!-- /.graph ここまで -->
  

  <!-- /.modal ここから -->




  <!-- /.modal ここまで -->

  <script src="js/script.js"></script>
  <!-- <script src="js/bar_chart.js"></script>
  <script src="js/doughnut_chart.js"></script>
  <script src="js/doughnut_chart2.js"></script> -->
</body>

</html>